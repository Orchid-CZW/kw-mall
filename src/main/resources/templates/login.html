<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
		<!--声明文档兼容模式，表示使用IE浏览器的最新模式-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!--设置视口的宽度(值为设备的理想宽度)，页面初始缩放值<理想宽度/可见宽度>-->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
		<title>酷玩周边商城-用户登录</title>
		<!-- 引入Bootstrap核心样式文件 -->
		<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
		<link rel="stylesheet" th:href="@{/css/base.css}"/>
		<!-- 引入jQuery核心js文件 -->
		<script th:src="@{/js/jquery-1.11.3.min.js}"></script>
		<!-- 引入BootStrap核心js文件 -->
		<script th:src="@{/js/bootstrap.min.js}"></script>
		<script th:src="@{/js/jquery.validate.min.js}"></script>
		<script type="text/javascript">
			$(function () {
				$("#showCode").click(function () {
					var date = new Date();
					$(this).attr("src","/kwmall/checkImg?d="+date.getTime());
				})
				$("#loginForm").validate({
					rules:{
						username:"required",
						password:"required",
						code:"required"
					},
					messages:{
						username:"请输入用户名",
						password:"请输入密码",
						code:"请输入验证码"
					}
				});
			})
		</script>
		<style type="text/css">
			.error{
				color:red;
				font-style:italic;
			}
		</style>
	</head>

	<body>
		<div th:replace="common :: header"></div>
		<!--登录区域-->
		<div class="container-fluid" style="height:460px;background: url('/kwmall/img/loginbg.jpg') no-repeat;">
			<div class="row">
				<div class="col-md-7">
				</div>
				<div class="col-md-5">
					<div class="panel panel-default" style="width: 400px; margin-top: 50px;">
						<div class="panel-heading">
							<h3 class="panel-title">用户登录</h3>
						</div>
						<div class="panel-body">
							<form id="loginForm" class="form-horizontal" method="post" th:action="@{/user/login}">
								<div th:if="${msg}!=null" th:text="${msg}" class="alert alert-danger alert-dismissible" role="alert">
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="form-group">
									<label for="username" class="col-sm-3 control-label">用户名:</label>
									<div class="col-sm-7">
										<input name="username" type="text" class="form-control" id="username" placeholder="请输入用户名">
									</div>
								</div>
								<div class="form-group">
									<label for="password" class="col-sm-3 control-label">密码:</label>
									<div class="col-sm-7">
										<input name="password" type="password" class="form-control" id="password" placeholder="请输入密码">
									</div>
								</div>

								<div class="form-group">
									<label for="code" class="col-sm-3 control-label">验证码:</label>
									<div class="col-sm-5">
										<input name="code" type="text" class="form-control" id="code" placeholder="请输入验证码">
									</div>
									<div class="col-sm-4" style="padding: 0;">
										<img id="showCode" width="120" th:src="@{/checkImg}" />
									</div>
								</div>

								<div class="form-group">
									<div class="col-sm-offset-3 col-sm-10">
										<div class="checkbox">
											<label class="checkbox-inline">
											<input type="checkbox" value="true" />记住用户名
											<a th:href="@{/register}">注册新用户</a>
										</label>
										</div>

									</div>
								</div>
								<div class="form-group">
									<div class="col-sm-offset-3 col-sm-7">
										<input class="btn btn-success  btn-block" type="submit" value="登录" name="submit" />
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--底部-->
		<div th:replace="common :: footer"></div>
	</body>

</html>